[
  {
    "objectID": "ST558_2024-Homework2-2.html",
    "href": "ST558_2024-Homework2-2.html",
    "title": "homework 2-programming in Base R",
    "section": "",
    "text": "-Basic vector practice\nFirst need to assign observation values to each of observation.\n\npretreat &lt;- c (120, 151, 125, 126, 115, 132, 132, 129, 134, 139, 127, 122, 127, 135, 133, 128, 147, 138, 140, 132)\nposttreat&lt;- c (127, 145, 135, 122, 115, 122, 123, 126, 126, 129, 132, 146, 120, 114, 121, 120, 128, 120, 133, 115) \n\nThen name each element in the vector.\n\npatient &lt;- paste (\"Subject\", 1:20, sep = \"_\") \nattributes(pretreat) $ names &lt;- patient \nattributes(posttreat) $ names &lt;- patient\n\n\nThen we are interested to know the change in blood pressure for each patient.\n\nchangetreat &lt;- posttreat - pretreat \nchangetreat\n\n Subject_1  Subject_2  Subject_3  Subject_4  Subject_5  Subject_6  Subject_7 \n         7         -6         10         -4          0        -10         -9 \n Subject_8  Subject_9 Subject_10 Subject_11 Subject_12 Subject_13 Subject_14 \n        -3         -8        -10          5         24         -7        -21 \nSubject_15 Subject_16 Subject_17 Subject_18 Subject_19 Subject_20 \n       -12         -8        -19        -18         -7        -17 \n\n\n… and the average change in blood pressure is…\n\nmean (changetreat)\n\n[1] -5.65\n\n\nThere are several patients experiencing a decrease in blood pressure after treatment, who are:\n\nnegtreat &lt;- which (changetreat &lt;0)\nnegtreat\n\n Subject_2  Subject_4  Subject_6  Subject_7  Subject_8  Subject_9 Subject_10 \n         2          4          6          7          8          9         10 \nSubject_13 Subject_14 Subject_15 Subject_16 Subject_17 Subject_18 Subject_19 \n        13         14         15         16         17         18         19 \nSubject_20 \n        20 \n\n\nNow we subset patients who blood pressure changed positively after treatment. Here we used a Boolean expression to subset the vector changetreat.\n\npostreat &lt;- changetreat [changetreat &gt; 0] \npostreat\n\n Subject_1  Subject_3 Subject_11 Subject_12 \n         7         10          5         24 \n\n\nWhat is the average decrease in blood pressure for those experiencing a decrease in blood pressure?\n\nnegtreat &lt;- changetreat [changetreat &lt;= 0] \navgdectreat &lt;- mean (negtreat) \navgdectreat\n\n[1] -9.9375\n\n\n\n\n-Data Frame practice\nFirst let’s create a data frame containing the four different vectors that we have established before, and return only patients with a negative change in blood pressure.\n\npatient_df &lt;- data.frame(patient, pretreat, posttreat, changetreat)\npatient_dec &lt;- patient_df [patient_df$changetreat &lt;0,] \npatient_dec\n\n              patient pretreat posttreat changetreat\nSubject_2   Subject_2      151       145          -6\nSubject_4   Subject_4      126       122          -4\nSubject_6   Subject_6      132       122         -10\nSubject_7   Subject_7      132       123          -9\nSubject_8   Subject_8      129       126          -3\nSubject_9   Subject_9      134       126          -8\nSubject_10 Subject_10      139       129         -10\nSubject_13 Subject_13      127       120          -7\nSubject_14 Subject_14      135       114         -21\nSubject_15 Subject_15      133       121         -12\nSubject_16 Subject_16      128       120          -8\nSubject_17 Subject_17      147       128         -19\nSubject_18 Subject_18      138       120         -18\nSubject_19 Subject_19      140       133          -7\nSubject_20 Subject_20      132       115         -17\n\n\nNow add another column whose value is TRUE when the blood pressure is less than 120 after treatment, and FALSE otherwise. Check the new data frame.\n\npatient_df$iftreat &lt;- patient_df$posttreat &lt; 120 \nhead (patient_df,3)\n\n            patient pretreat posttreat changetreat iftreat\nSubject_1 Subject_1      120       127           7   FALSE\nSubject_2 Subject_2      151       145          -6   FALSE\nSubject_3 Subject_3      125       135          10   FALSE\n\n\nNow use the kable function to printout the final document\n\nknitr::kable(patient_df)\n\n\n\n\n\npatient\npretreat\nposttreat\nchangetreat\niftreat\n\n\n\n\nSubject_1\nSubject_1\n120\n127\n7\nFALSE\n\n\nSubject_2\nSubject_2\n151\n145\n-6\nFALSE\n\n\nSubject_3\nSubject_3\n125\n135\n10\nFALSE\n\n\nSubject_4\nSubject_4\n126\n122\n-4\nFALSE\n\n\nSubject_5\nSubject_5\n115\n115\n0\nTRUE\n\n\nSubject_6\nSubject_6\n132\n122\n-10\nFALSE\n\n\nSubject_7\nSubject_7\n132\n123\n-9\nFALSE\n\n\nSubject_8\nSubject_8\n129\n126\n-3\nFALSE\n\n\nSubject_9\nSubject_9\n134\n126\n-8\nFALSE\n\n\nSubject_10\nSubject_10\n139\n129\n-10\nFALSE\n\n\nSubject_11\nSubject_11\n127\n132\n5\nFALSE\n\n\nSubject_12\nSubject_12\n122\n146\n24\nFALSE\n\n\nSubject_13\nSubject_13\n127\n120\n-7\nFALSE\n\n\nSubject_14\nSubject_14\n135\n114\n-21\nTRUE\n\n\nSubject_15\nSubject_15\n133\n121\n-12\nFALSE\n\n\nSubject_16\nSubject_16\n128\n120\n-8\nFALSE\n\n\nSubject_17\nSubject_17\n147\n128\n-19\nFALSE\n\n\nSubject_18\nSubject_18\n138\n120\n-18\nFALSE\n\n\nSubject_19\nSubject_19\n140\n133\n-7\nFALSE\n\n\nSubject_20\nSubject_20\n132\n115\n-17\nTRUE\n\n\n\n\n\n\n\n- Basic List practice\nCreate a new data frame using the placebo data.\n\npretreat2 &lt;- c(138, 135, 147, 117, 152, 134, 114, 121, 131, 130) \nposttreat2 &lt;- c(105, 136, 123, 130, 134, 143, 135, 139, 120, 124) \npatient2 &lt;- paste (\"Subject2\", 1:10, sep = \"_\") \nchangetreat2 &lt;- posttreat2 - pretreat2 \niftreat2 &lt;- posttreat2 &lt; 120 \npatient_df2 &lt;- data.frame(patient2, pretreat2, posttreat2, changetreat2, iftreat2)  \nhead (patient_df2,3)\n\n    patient2 pretreat2 posttreat2 changetreat2 iftreat2\n1 Subject2_1       138        105          -33     TRUE\n2 Subject2_2       135        136            1    FALSE\n3 Subject2_3       147        123          -24    FALSE\n\n\nNow create the list:\n\npatient_list &lt;- list (patient_df, patient_df2) \npatient_list\n\n[[1]]\n              patient pretreat posttreat changetreat iftreat\nSubject_1   Subject_1      120       127           7   FALSE\nSubject_2   Subject_2      151       145          -6   FALSE\nSubject_3   Subject_3      125       135          10   FALSE\nSubject_4   Subject_4      126       122          -4   FALSE\nSubject_5   Subject_5      115       115           0    TRUE\nSubject_6   Subject_6      132       122         -10   FALSE\nSubject_7   Subject_7      132       123          -9   FALSE\nSubject_8   Subject_8      129       126          -3   FALSE\nSubject_9   Subject_9      134       126          -8   FALSE\nSubject_10 Subject_10      139       129         -10   FALSE\nSubject_11 Subject_11      127       132           5   FALSE\nSubject_12 Subject_12      122       146          24   FALSE\nSubject_13 Subject_13      127       120          -7   FALSE\nSubject_14 Subject_14      135       114         -21    TRUE\nSubject_15 Subject_15      133       121         -12   FALSE\nSubject_16 Subject_16      128       120          -8   FALSE\nSubject_17 Subject_17      147       128         -19   FALSE\nSubject_18 Subject_18      138       120         -18   FALSE\nSubject_19 Subject_19      140       133          -7   FALSE\nSubject_20 Subject_20      132       115         -17    TRUE\n\n[[2]]\n      patient2 pretreat2 posttreat2 changetreat2 iftreat2\n1   Subject2_1       138        105          -33     TRUE\n2   Subject2_2       135        136            1    FALSE\n3   Subject2_3       147        123          -24    FALSE\n4   Subject2_4       117        130           13    FALSE\n5   Subject2_5       152        134          -18    FALSE\n6   Subject2_6       134        143            9    FALSE\n7   Subject2_7       114        135           21    FALSE\n8   Subject2_8       121        139           18    FALSE\n9   Subject2_9       131        120          -11    FALSE\n10 Subject2_10       130        124           -6    FALSE\n\n\nTry practice accessing the first element of the list\n\npatient_list [1]\n\n[[1]]\n              patient pretreat posttreat changetreat iftreat\nSubject_1   Subject_1      120       127           7   FALSE\nSubject_2   Subject_2      151       145          -6   FALSE\nSubject_3   Subject_3      125       135          10   FALSE\nSubject_4   Subject_4      126       122          -4   FALSE\nSubject_5   Subject_5      115       115           0    TRUE\nSubject_6   Subject_6      132       122         -10   FALSE\nSubject_7   Subject_7      132       123          -9   FALSE\nSubject_8   Subject_8      129       126          -3   FALSE\nSubject_9   Subject_9      134       126          -8   FALSE\nSubject_10 Subject_10      139       129         -10   FALSE\nSubject_11 Subject_11      127       132           5   FALSE\nSubject_12 Subject_12      122       146          24   FALSE\nSubject_13 Subject_13      127       120          -7   FALSE\nSubject_14 Subject_14      135       114         -21    TRUE\nSubject_15 Subject_15      133       121         -12   FALSE\nSubject_16 Subject_16      128       120          -8   FALSE\nSubject_17 Subject_17      147       128         -19   FALSE\nSubject_18 Subject_18      138       120         -18   FALSE\nSubject_19 Subject_19      140       133          -7   FALSE\nSubject_20 Subject_20      132       115         -17    TRUE\n\n\n\npatient_list [[1]]\n\n              patient pretreat posttreat changetreat iftreat\nSubject_1   Subject_1      120       127           7   FALSE\nSubject_2   Subject_2      151       145          -6   FALSE\nSubject_3   Subject_3      125       135          10   FALSE\nSubject_4   Subject_4      126       122          -4   FALSE\nSubject_5   Subject_5      115       115           0    TRUE\nSubject_6   Subject_6      132       122         -10   FALSE\nSubject_7   Subject_7      132       123          -9   FALSE\nSubject_8   Subject_8      129       126          -3   FALSE\nSubject_9   Subject_9      134       126          -8   FALSE\nSubject_10 Subject_10      139       129         -10   FALSE\nSubject_11 Subject_11      127       132           5   FALSE\nSubject_12 Subject_12      122       146          24   FALSE\nSubject_13 Subject_13      127       120          -7   FALSE\nSubject_14 Subject_14      135       114         -21    TRUE\nSubject_15 Subject_15      133       121         -12   FALSE\nSubject_16 Subject_16      128       120          -8   FALSE\nSubject_17 Subject_17      147       128         -19   FALSE\nSubject_18 Subject_18      138       120         -18   FALSE\nSubject_19 Subject_19      140       133          -7   FALSE\nSubject_20 Subject_20      132       115         -17    TRUE\n\n\nThe difference between the two methods of accessing elements in the list could be found out by\n\nstr (patient_list[1]) \n\nList of 1\n $ :'data.frame':   20 obs. of  5 variables:\n  ..$ patient    : chr [1:20] \"Subject_1\" \"Subject_2\" \"Subject_3\" \"Subject_4\" ...\n  ..$ pretreat   : num [1:20] 120 151 125 126 115 132 132 129 134 139 ...\n  ..$ posttreat  : num [1:20] 127 145 135 122 115 122 123 126 126 129 ...\n  ..$ changetreat: num [1:20] 7 -6 10 -4 0 -10 -9 -3 -8 -10 ...\n  ..$ iftreat    : logi [1:20] FALSE FALSE FALSE FALSE TRUE FALSE ...\n\nstr (patient_list[[1]])\n\n'data.frame':   20 obs. of  5 variables:\n $ patient    : chr  \"Subject_1\" \"Subject_2\" \"Subject_3\" \"Subject_4\" ...\n $ pretreat   : num  120 151 125 126 115 132 132 129 134 139 ...\n $ posttreat  : num  127 145 135 122 115 122 123 126 126 129 ...\n $ changetreat: num  7 -6 10 -4 0 -10 -9 -3 -8 -10 ...\n $ iftreat    : logi  FALSE FALSE FALSE FALSE TRUE FALSE ...\n\n\nThe first method of referencing generates a list of 1 elements, while the second method generates the data frame itself.\nWe could also name the elements in the list and reference the element using its name\n\nattributes (patient_list) $ names &lt;- c (\"treatment\", \"placebo\")\npatient_list$treatment\n\n              patient pretreat posttreat changetreat iftreat\nSubject_1   Subject_1      120       127           7   FALSE\nSubject_2   Subject_2      151       145          -6   FALSE\nSubject_3   Subject_3      125       135          10   FALSE\nSubject_4   Subject_4      126       122          -4   FALSE\nSubject_5   Subject_5      115       115           0    TRUE\nSubject_6   Subject_6      132       122         -10   FALSE\nSubject_7   Subject_7      132       123          -9   FALSE\nSubject_8   Subject_8      129       126          -3   FALSE\nSubject_9   Subject_9      134       126          -8   FALSE\nSubject_10 Subject_10      139       129         -10   FALSE\nSubject_11 Subject_11      127       132           5   FALSE\nSubject_12 Subject_12      122       146          24   FALSE\nSubject_13 Subject_13      127       120          -7   FALSE\nSubject_14 Subject_14      135       114         -21    TRUE\nSubject_15 Subject_15      133       121         -12   FALSE\nSubject_16 Subject_16      128       120          -8   FALSE\nSubject_17 Subject_17      147       128         -19   FALSE\nSubject_18 Subject_18      138       120         -18   FALSE\nSubject_19 Subject_19      140       133          -7   FALSE\nSubject_20 Subject_20      132       115         -17    TRUE\n\n\nPractice accessing one column in a dataframe from a list\n\npatient_list[[1]]$pretreat\n\n [1] 120 151 125 126 115 132 132 129 134 139 127 122 127 135 133 128 147 138 140\n[20] 132"
  }
]